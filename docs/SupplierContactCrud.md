# SupplierContact CRUD 控制器

## 概述

`SupplierContactCrudController` 是基于 EasyAdmin 的供应商联系人管理控制器，提供完整的 CRUD 操作功能。

## 功能特性

### 基本 CRUD 操作
- **创建联系人**: 添加新的供应商联系人
- **查看联系人**: 查看联系人详细信息
- **编辑联系人**: 修改联系人信息
- **删除联系人**: 删除不需要的联系人

### 高级功能
- **主联系人管理**: 支持设置和取消主联系人
- **关联管理**: 自动关联到指定供应商
- **搜索过滤**: 支持多字段搜索和过滤
- **权限控制**: 基于角色的访问控制

## 字段配置

### 基本信息
- **ID**: 联系人唯一标识
- **所属供应商**: 关联的供应商（必填）
- **联系人姓名**: 真实姓名（必填）
- **职位**: 在公司的职务

### 联系方式
- **邮箱地址**: 业务联系邮箱（必填）
- **电话号码**: 联系电话（必填）

### 设置
- **主要联系人**: 是否为该供应商的主要联系人

### 系统信息
- **创建时间**: 记录创建时间
- **更新时间**: 最后更新时间

## 特殊功能

### 主联系人管理
- 每个供应商只能有一个主联系人
- 设置新的主联系人时，会自动取消其他联系人的主联系人状态
- 提供"设为主联系人"和"取消主联系人"按钮

### 验证规则
- 邮箱格式验证
- 电话号码格式验证
- 必填字段验证
- 字符长度限制

## 访问权限

- **查看**: 所有用户
- **创建**: ROLE_ADMIN
- **编辑**: ROLE_ADMIN  
- **删除**: ROLE_ADMIN

## 路由配置

路径: `/admin/supplier/contact`
路由名: `supplier_contact`

## 使用示例

### 添加联系人
1. 进入供应商联系人管理页面
2. 点击"添加联系人"按钮
3. 选择所属供应商
4. 填写联系人信息
5. 设置是否为主联系人
6. 保存

### 管理主联系人
1. 在联系人列表中找到目标联系人
2. 点击"设为主联系人"按钮
3. 系统会自动处理主联系人切换

## 技术实现

### 依赖
- EasyAdmin Bundle 4.x
- Doctrine ORM
- Symfony 7.x

### 关键类
- `SupplierContactCrudController`: 主控制器
- `SupplierContact`: 实体类
- `Supplier`: 关联的供应商实体

### 自定义方法
- `setPrimary()`: 设置主联系人
- `removePrimary()`: 取消主联系人